<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Requirements &mdash; pymatgen 3.7.0 documentation</title>
    
    <link rel="stylesheet" href="_static/proBlue.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="pymatgen 3.7.0 documentation" href="index.html" />
    <link rel="next" title="Overview" href="usage.html" />
    <link rel="prev" title="Introduction" href="index.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 3.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="requirements">
<h1>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h1>
<p>All required dependencies should be automatically taken care of if you
install pymatgen using easy_install or pip. Otherwise, these packages should
be available on <a class="reference external" href="http://pypi.python.org">PyPI</a>.</p>
<ol class="arabic simple">
<li>Python 2.7-3.x supported. All critical dependencies of pymatgen already
have Python 3.x support. Only a few optional dependencies (VTK and ASE) do
not. If you do not need those features, you can choose to work with Python 3.</li>
<li>numpy&gt;=1.9</li>
<li>scipy&gt;0.14</li>
<li>monty&gt;=0.7.0</li>
<li>requests 2.0+</li>
<li>pybtex</li>
<li>pyyaml</li>
<li>tabulate</li>
<li>six</li>
</ol>
<p>Most of these are fairly easy to install. The well-established numpy and scipy
should have ready-made installation packages for all platforms. The rest are
pure/semi-pure Python packages that installs without any issues with pip and
easy_install.</p>
<div class="section" id="optional-dependencies">
<h2>Optional dependencies<a class="headerlink" href="#optional-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Optional libraries that are required if you need certain features.</p>
<ol class="arabic simple">
<li>pyhull 1.5.2+ (highly recommended): For electronic structure, generation of
Pourbaix diagrams.</li>
<li>matplotlib 1.1+ (highly recommended): For plotting (e.g., Phase Diagrams).</li>
<li>sympy (highly recommended): For defect generation and analysis.</li>
<li>VTK with Python bindings 5.8+ (<a class="reference external" href="http://www.vtk.org/">http://www.vtk.org/</a>): For visualization of
crystal structures using the pymatgen.vis package. Note that the VTK
package is incompatible with Python 3.x at the moment.</li>
<li>Atomistic Simulation Environment or ASE 3.6+: Required for the usage of the
adapters in pymatgen.io.aseio between pymatgen&#8217;s core Structure object and
the Atoms object used by ASE. Get it at <a class="reference external" href="https://wiki.fysik.dtu.dk/ase/">https://wiki.fysik.dtu.dk/ase/</a>.
Note that the ASE package is incompatible with Python 3.x at the moment.</li>
<li>OpenBabel with Python bindings (<a class="reference external" href="http://openbabel.org">http://openbabel.org</a>): Required for the
usage of the adapters in pymatgen.io.babelio between pymatgen&#8217;s Molecule
and OpenBabel&#8217;s OBMol. Opens up input and output support for the very large
number of input and output formats supported by OpenBabel.</li>
<li>nose - For unittesting. Not optional for developers.</li>
</ol>
</div>
<div class="section" id="optional-non-python-programs">
<h2>Optional non-Python programs<a class="headerlink" href="#optional-non-python-programs" title="Permalink to this headline">¶</a></h2>
<p>Optional non-python libraries (because no good python alternative exists at
the moment) required only for certain features:</p>
<ol class="arabic simple">
<li>ffmpeg: For generation of movies in structure_vtk.py. The executable ffmpeg
must be in the path. Get it at <a class="reference external" href="http://www.ffmpeg.org">http://www.ffmpeg.org</a>.</li>
<li>enum: For the use of
<a class="reference internal" href="pymatgen.transformations.html#pymatgen.transformations.advanced_transformations.EnumerateStructureTransformation" title="pymatgen.transformations.advanced_transformations.EnumerateStructureTransformation"><code class="xref py py-class docutils literal"><span class="pre">pymatgen.transformations.advanced_transformations.EnumerateStructureTransformation</span></code></a>
and <a class="reference internal" href="pymatgen.command_line.html#module-pymatgen.command_line.enumlib_caller" title="pymatgen.command_line.enumlib_caller"><code class="xref py py-mod docutils literal"><span class="pre">pymatgen.command_line.enumlib_caller</span></code></a> module. This library by Gus
Hart provides a robust way to enumerate derivative structures. It can be
used to completely enumerate all symmetrically distinct ordered structures
of disordered structures via EnumerateStructureTransformation. Many other
advanced transformations (e.g., MagOrderingTransformation) use
EnumerateStructureTransformation. The multienum.x and makestr.x
executables must be in the path. Get it at <a class="reference external" href="http://enum.sourceforge.net">http://enum.sourceforge.net</a> and
follow the instructions to compile multienum.x and makestr.x.</li>
<li>bader: For use with <code class="xref py py-class docutils literal"><span class="pre">pymatgen.command_line.bader.BaderAnalysis</span></code>.
This library by Henkelmann et al. provides a robust way to calculate the
Bader analysis from a CHGCAR. The bader executable must be in the path.
Get it at <a class="reference external" href="http://theory.cm.utexas.edu/bader">http://theory.cm.utexas.edu/bader</a>.</li>
<li>gulp: For use with <a class="reference internal" href="pymatgen.command_line.html#module-pymatgen.command_line.gulp_caller" title="pymatgen.command_line.gulp_caller"><code class="xref py py-mod docutils literal"><span class="pre">pymatgen.command_line.gulp_caller</span></code></a>,
which is in turn used extensively by <a class="reference internal" href="pymatgen.analysis.defects.html#module-pymatgen.analysis.defects" title="pymatgen.analysis.defects"><code class="xref py py-mod docutils literal"><span class="pre">pymatgen.analysis.defects</span></code></a> to
compute empirical defect energies.</li>
<li>aconvasp: For use with the <a class="reference internal" href="pymatgen.command_line.html#module-pymatgen.command_line.aconvasp_caller" title="pymatgen.command_line.aconvasp_caller"><code class="xref py py-mod docutils literal"><span class="pre">pymatgen.command_line.aconvasp_caller</span></code></a>.</li>
<li>Zeo++ (<a class="reference external" href="http://www.maciejharanczyk.info/Zeopp/">http://www.maciejharanczyk.info/Zeopp/</a>): For defect structure
generation. This is required in addition to installing the zeo Python
package.</li>
</ol>
</div>
</div>
<div class="section" id="detailed-installation-instructions">
<h1>Detailed installation instructions<a class="headerlink" href="#detailed-installation-instructions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="mac-osx-tested-on-10-6-10-9">
<h2>Mac OSX (tested on 10.6-10.9)<a class="headerlink" href="#mac-osx-tested-on-10-6-10-9" title="Permalink to this headline">¶</a></h2>
<p>For Macs, the initial installation steps can be a bit complicated because
pymatgen does require a number of extensions to be built. Here are some
recommended step-by-step instructions for a minimal setup necessary for
pymatgen usage.</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Download and install the basic compilers needed:</dt>
<dd><ol class="first last loweralpha">
<li><dl class="first docutils">
<dt>Xcode - This provides the gcc compiler. Get it from the App Store.</dt>
<dd><ol class="first last lowerroman">
<li><p class="first"><em>OSX &lt; 10.9</em>. After installation, start XCode,
go to Preferences-&gt;Downloads and install the Command Line Tools.
You may need to quit Xcode and reopen if the Command Line Tools
option does not appear.</p>
</li>
<li><p class="first"><em>OSX 10.9</em>. The command line tools for OSX Mavericks is no longer
provided as an option under Xcode downloads. To install command
line tools, type the following in a terminal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">xcode</span><span class="o">-</span><span class="n">select</span> <span class="o">--</span><span class="n">install</span>
</pre></div>
</div>
</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">Gfortran 4.6.2+ - Get an installer at
<a class="reference external" href="http://gcc.gnu.org/wiki/GFortranBinaries#MacOS">http://gcc.gnu.org/wiki/GFortranBinaries#MacOS</a>.</p>
</li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">It is recommended that you install the latest copy of Python 2.7+ (not 3+),
even though your Mac should already have a compatible version. This makes it
easier for future upgrades and minimizes issues. Get it from the <a class="reference external" href="http://www.python.org">Python
home page</a> and install.</p>
</li>
<li><p class="first">Ensure that your terminal is running the correct version by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">which</span> <span class="n">python</span>
</pre></div>
</div>
<p>You should see something like
“/Library/Frameworks/Python.framework/Versions/2.7/bin/python”. If you don’t
get this (e.g., if you get /usr/bin/python), you may need to change your
PATH.</p>
</li>
<li><p class="first">Python setuptools make it easier to install subsequent programs via
“easy_install”. If you want to, you can install pip as well using “sudo
easy_install pip”. Pip has several advantages over easy_install. In a
terminal, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">o</span> <span class="n">setuptools</span><span class="o">-</span><span class="mf">0.6</span><span class="n">c11</span><span class="o">-</span><span class="n">py2</span><span class="o">.</span><span class="mf">7.</span><span class="n">egg</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">setuptools</span><span class="o">/</span><span class="n">setuptools</span><span class="o">-</span><span class="mf">0.6</span><span class="n">c11</span><span class="o">-</span><span class="n">py2</span><span class="o">.</span><span class="mf">7.</span><span class="n">egg</span>
<span class="n">sudo</span> <span class="n">sh</span> <span class="n">setuptools</span><span class="o">-</span><span class="mf">0.6</span><span class="n">c11</span><span class="o">-</span><span class="n">py2</span><span class="o">.</span><span class="mf">7.</span><span class="n">egg</span>
<span class="n">sudo</span> <span class="n">easy_install</span> <span class="n">pip</span> <span class="c1">#optional</span>
</pre></div>
</div>
</li>
<li><p class="first">Install numpy and a few other dependencies:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pyyaml</span>
</pre></div>
</div>
</li>
<li><p class="first">Install pymatgen, either in development mode or via pip.</p>
</li>
</ol>
</div>
<div class="section" id="windows-tested-on-win7-64-bit">
<h2>Windows (tested on Win7 64-bit)<a class="headerlink" href="#windows-tested-on-win7-64-bit" title="Permalink to this headline">¶</a></h2>
<p>The installation of pymatgen on Windows machines is particularly tricky,
especially for the non-developer, because many of the tools that come bundled
with Unix-based systems (such as gcc and python itself!) are not part of a
standard Windows installation.</p>
<p>The instructions below is a tested installation procedure for getting python
and pymatgen working on a Windows system via <a class="reference external" href="http://www.cygwin.com">Cygwin</a>, which is the easiest procedure I know. If anyone
has a step-by-step guide for a native installation without cygwin,
please send me the details.</p>
<ol class="arabic">
<li><p class="first">Download and install <a class="reference external" href="http://www.cygwin.com">Cygwin</a>. When you get to the part that asks for the
packages to install, make sure that the following are selected:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Devel - gcc4 (not gcc, which is gcc 3.*), git</li>
<li>Libs - libmpfr4</li>
<li>Python - python, python-numpy, python-setuptools</li>
<li>Net - openssh</li>
</ol>
</div></blockquote>
<p>In all cases, make sure that both binary and src is selected.</p>
</li>
<li><p class="first">Start the Cygwin terminal.</p>
</li>
<li><p class="first">easy_install pip (this makes it much easier to manage packages):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">easy_install</span> <span class="n">pip</span>
</pre></div>
</div>
</li>
<li><p class="first">Install some required packages which seem to have issues when installed as
part of the pymatgen setup.py process:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyyaml</span>
</pre></div>
</div>
</li>
<li><p class="first">Install pymatgen either using pip or the Github developer procedures
below.</p>
</li>
<li><p class="first">Test your installation by entering the python interactive prompt and doing
a &#8220;import pymatgen as mg&#8221;.</p>
</li>
</ol>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>If you are using a Linux system, it is generally assumed that you will have
python, numpy and the standard compilers already on your system. Standard
easy_install or pip install should work automatically. Even if there are some
minor compilation error messages, I generally assume Linux users are usually
able to diagnose and solve those. For users of Ubuntu, most of the dependencies
(including the optional ones) are most easily installed using apt-get.</p>
<div class="section" id="using-pymatgen-on-public-hpc-resources">
<h3>Using pymatgen on public HPC resources<a class="headerlink" href="#using-pymatgen-on-public-hpc-resources" title="Permalink to this headline">¶</a></h3>
<p>If you wish to use pymatgen on HPC resources (e.g., NERSC or XSEDE resources)
where you do not have administrator priveleges, there are two options.</p>
<ol class="arabic simple">
<li>Use the <code class="docutils literal"><span class="pre">&quot;--user&quot;</span></code> option. Pip, easy_install, python setup.py install all
support the <code class="docutils literal"><span class="pre">--user</span></code> option. You can add <code class="docutils literal"><span class="pre">--user</span></code> to all your commands
and it will be installed in $HOME/.local/lib/python2.7/site-packages/. You
may need to modify your PYTHONPATH accordingly.</li>
<li>Use virtualenv. You may still need to install virtualenv using the
<code class="docutils literal"><span class="pre">--user</span></code> option if the HPC resource does not have it. Afterwards,
you can create a virtualenv to install everything else. This allows you
to properly isolate dependencies.</li>
</ol>
<p>For most users, option 1 is simpler. Option 2 is useful if you foresee
potential conflicts with many different python packages.</p>
</div>
</div>
</div>
<div class="section" id="potcar-setup">
<h1>POTCAR Setup<a class="headerlink" href="#potcar-setup" title="Permalink to this headline">¶</a></h1>
<p>For the code to generate POTCAR files, it needs to know where the VASP
pseudopotential files are.  We are not allowed to distribute these under the
VASP license. The good news is that the <cite>pmg</cite> command line utility includes a
setup functionality.</p>
<p>After installation, do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pmg</span> <span class="n">setup</span> <span class="o">--</span><span class="n">input_potcar_dir</span> <span class="o">&lt;</span><span class="n">EXTRACTED_VASP_POTCAR</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">output_potcar_dir</span> <span class="o">&lt;</span><span class="n">MY_PSP</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In the above, <cite>&lt;EXTRACTED_VASP_POTCAR&gt;</cite> is the location of the directory that
you extracted the downloaded VASP pseudopotential files. Typically, it has
the following format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="o">&lt;</span><span class="n">EXTRACTED_VASP_POTCAR</span><span class="o">&gt;</span>
<span class="o">|-</span> <span class="n">POT_GGA_PAW_PBE</span>
<span class="o">||-</span> <span class="n">Ac_s</span>
<span class="o">|||-</span><span class="n">POTCAR</span>
<span class="o">|||-...</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="o">&lt;</span><span class="n">EXTRACTED_VASP_POTCAR</span><span class="o">&gt;</span>
<span class="o">|-</span> <span class="n">potpaw_PBE</span>
<span class="o">||-</span> <span class="n">Ac_s</span>
<span class="o">|||-</span><span class="n">POTCAR</span>
<span class="o">|||-...</span>
</pre></div>
</div>
<p>and follow the instructions. If you have done it correctly, you should get a
resources directory with the following directory structure:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">psp_resources</span>
<span class="o">|-</span> <span class="n">POT_GGA_PAW_PBE</span>
<span class="o">||-</span> <span class="n">POTCAR</span><span class="o">.</span><span class="n">Ac_s</span><span class="o">.</span><span class="n">gz</span>
<span class="o">||-</span> <span class="n">POTCAR</span><span class="o">.</span><span class="n">Ac</span><span class="o">.</span><span class="n">gz</span>
<span class="o">||-</span> <span class="n">POTCAR</span><span class="o">.</span><span class="n">Ag</span><span class="o">.</span><span class="n">gz</span>
<span class="o">...</span>
<span class="o">|-</span> <span class="n">POT_GGA_PAW_PW91</span>
<span class="o">...</span>
</pre></div>
</div>
<p>After generating the resources directory, you should add a VASP_PSP_DIR
environment variable pointing to the generated directory and you should then be
able to generate POTCARs. The setup also provides options to do this
automatically and setup for Materials API usage as well.</p>
</div>
<div class="section" id="setup-for-developers-using-github">
<h1>Setup for Developers (using GitHub)<a class="headerlink" href="#setup-for-developers-using-github" title="Permalink to this headline">¶</a></h1>
<ol class="arabic">
<li><p class="first">Clone the repo at <a class="reference external" href="http://github.com/materialsproject/pymatgen">http://github.com/materialsproject/pymatgen</a>.</p>
</li>
<li><p class="first">In your root pymatgen repo directory, type (you may need to do this with root
privileges):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">develop</span>
</pre></div>
</div>
</li>
<li><p class="first">Install any missing python libraries that are necessary.</p>
</li>
</ol>
<p>I recommend that you start by reading some of the unittests in the tests
subdirectory for each package. The unittests demonstrate the expected behavior
and functionality of the code.</p>
<p>Please read up on pymatgen&#8217;s <a class="reference internal" href="contributing.html"><span class="doc">coding guidelines</span></a> before
you start coding. It will make integration much easier.</p>
</div>
<div class="section" id="installation-tips-for-optional-libraries">
<h1>Installation tips for optional libraries<a class="headerlink" href="#installation-tips-for-optional-libraries" title="Permalink to this headline">¶</a></h1>
<p>This section provides a guide for installing various optional libraries used in
pymatgen.  Some of the python libraries are rather tricky to build in certain
operating systems, especially for users unfamiliar with building C/C++ code.
Please feel free to send in suggestions to update the instructions based on
your experiences. In all the instructions, it is assumed that you have standard
gcc and other compilers (e.g., Xcode on Macs) already installed.</p>
<div class="section" id="vtk-tested-on-v5-10-0-6-1-0">
<h2>VTK (tested on v5.10.0 - 6.1.0)<a class="headerlink" href="#vtk-tested-on-v5-10-0-6-1-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mac-os-x-10-7-10-9">
<h3>Mac OS X 10.7 - 10.9<a class="headerlink" href="#mac-os-x-10-7-10-9" title="Permalink to this headline">¶</a></h3>
<p>The easiest is to install cmake from
<a class="reference external" href="http://cmake.org/cmake/resources/software.html">http://cmake.org/cmake/resources/software.html</a>.</p>
<p>Type the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">VTK</span> <span class="p">(</span><span class="n">this</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">you</span> <span class="n">expanded</span> <span class="n">VTK</span> <span class="n">into</span><span class="p">)</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">ccmake</span> <span class="o">..</span> <span class="p">(</span><span class="n">this</span> <span class="n">uses</span> <span class="n">cmake</span> <span class="ow">in</span> <span class="n">an</span> <span class="n">interactive</span> <span class="n">manner</span><span class="p">)</span>
</pre></div>
</div>
<p>Press &#8220;t&#8221; to toggle advanced mode. Then press &#8220;c&#8221; to do an initial
configuration. After the list of parameters come out, ensure that the
PYTHON_VERSION is set to 2, the VTK_WRAP_PYTHON is set to ON, and
BUILD_SHARED_LIBS is set to ON. You may also need to modify the python
paths and library paths if they are in non-standard locations. For example, if
you have installed the official version of Python instead of using the
Mac-provided version, you will probably need to edit the CMakeCache Python
links. Example configuration for Python 2.7 is given below (only variables that
need to be modified are shown):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">program</span><span class="o">.</span>
<span class="n">PYTHON_EXECUTABLE</span><span class="p">:</span><span class="n">FILEPATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span>

<span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span><span class="o">.</span>
<span class="n">PYTHON_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">Headers</span>

<span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">library</span><span class="o">.</span>
<span class="n">PYTHON_LIBRARY</span><span class="p">:</span><span class="n">FILEPATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libpython2</span><span class="o">.</span><span class="mf">7.</span><span class="n">dylib</span>

<span class="o">//</span><span class="n">Also</span> <span class="n">delete</span> <span class="n">the</span> <span class="n">prefix</span> <span class="n">settings</span> <span class="k">for</span> <span class="n">python</span><span class="p">,</span> <span class="n">which</span> <span class="n">typically</span> <span class="n">links</span> <span class="n">to</span> <span class="n">the</span> <span class="n">Mac</span> <span class="n">python</span><span class="o">.</span>

 <span class="n">VTK_INSTALL_PYTHON_MODULE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Garbage collection on new Xcode</p>
<p class="last">If you are using a very new XCode (e.g. 5.1), please note that Cocoa garbage
collection has been removed and during compile, you may get an &#8220;error:
garbage collection is no longer supported&#8221; message. VTK does not require
Cocoa garbage collection, but was configured to built with support for it on.
You can simply remove the -fobjc-gc flag from VTK_REQUIRED_OBJCXX_FLAGS.</p>
</div>
<p>Then press &#8220;c&#8221; again to configure and finally &#8220;g&#8221; to generate the required
make files After the CMakeCache.txt file is generated, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="mi">4</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>With any luck, you should have vtk with the necessary python wrappers installed.</p>
</div>
</div>
<div class="section" id="openbabel-tested-on-v2-3-2">
<h2>OpenBabel (tested on v2.3.2)<a class="headerlink" href="#openbabel-tested-on-v2-3-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Mac OS X 10.7 - 10.9<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Openbabel must be compiled with python bindings for integration with pymatgen.
Here are the steps that I took to make it work:</p>
<ol class="arabic">
<li><p class="first">Install cmake from <a class="reference external" href="http://cmake.org/cmake/resources/software.html">http://cmake.org/cmake/resources/software.html</a>.</p>
</li>
<li><p class="first">Install pcre-8.33 from
<a class="reference external" href="ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.33.tar.gz">ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.33.tar.gz</a>.</p>
</li>
<li><p class="first">Install pkg-config-0.28 using MacPorts or from
<a class="reference external" href="http://pkgconfig.freedesktop.org/releases/pkg-config-0.28.tar.gz">http://pkgconfig.freedesktop.org/releases/pkg-config-0.28.tar.gz</a>.</p>
</li>
<li><p class="first">Install SWIG from
<a class="reference external" href="http://prdownloads.sourceforge.net/swig/swig-2.0.10.tar.gz">http://prdownloads.sourceforge.net/swig/swig-2.0.10.tar.gz</a>.</p>
</li>
<li><p class="first">Download openbabel 2.3.2 <em>source code</em> from
<a class="reference external" href="https://sourceforge.net/projects/openbabel/files/openbabel/2.3.2/">https://sourceforge.net/projects/openbabel/files/openbabel/2.3.2/</a>.</p>
</li>
<li><p class="first">Download Eigen version 3.1.2 from
<a class="reference external" href="http://bitbucket.org/eigen/eigen/get/3.1.2.tar.gz">http://bitbucket.org/eigen/eigen/get/3.1.2.tar.gz</a>.</p>
</li>
<li><p class="first">Extract your Eigen and openbabel source distributions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="o">-</span><span class="n">zxvf</span> <span class="n">openbabel</span><span class="o">-</span><span class="mf">2.3</span><span class="o">.</span><span class="mf">2.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">tar</span> <span class="o">-</span><span class="n">zxvf</span> <span class="n">eigen3</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Now you should have two directories. Assuming that your openbabel src is in
a directory called &#8220;openbabel-2.3.2&#8221; and your eigen source is in a directory
called &#8220;eigen3&#8221;, do the following steps:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mv</span> <span class="n">openbabel</span><span class="o">-</span><span class="mf">2.3</span><span class="o">.</span><span class="mi">2</span> <span class="n">ob</span><span class="o">-</span><span class="n">src</span>
<span class="n">cd</span> <span class="n">ob</span><span class="o">-</span><span class="n">src</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">python</span><span class="p">;</span> <span class="n">rm</span> <span class="n">openbabel</span><span class="o">.</span><span class="n">py</span> <span class="n">openbabel</span><span class="o">-</span><span class="n">python</span><span class="o">.</span><span class="n">cpp</span><span class="p">;</span> <span class="n">cd</span> <span class="o">../../..</span>
</pre></div>
</div>
</li>
<li><p class="first">Edit ob-src/scripts/CMakeLists.txt, jump to line 70, change “eigen2_define”
to “eigen_define”.</p>
</li>
<li><p class="first">Let&#8217;s create a build directory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">ob</span><span class="o">-</span><span class="n">build</span>
<span class="n">cd</span> <span class="n">ob</span><span class="o">-</span><span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DPYTHON_BINDINGS</span><span class="o">=</span><span class="n">ON</span> <span class="o">-</span><span class="n">DRUN_SWIG</span><span class="o">=</span><span class="n">ON</span> <span class="o">-</span><span class="n">DEIGEN3_INCLUDE_DIR</span><span class="o">=../</span><span class="n">eigen3</span> <span class="o">../</span><span class="n">ob</span><span class="o">-</span><span class="n">src</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span> <span class="o">|</span> <span class="n">tee</span> <span class="n">cmake</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
</li>
<li><p class="first">Before proceeding further, similar to the VTK installation process in the
previous section, you may also need to modify the CMakeCache.txt
file by hand if your python paths and library paths if they are in
non-standard locations. For example, if you have installed the official
version of Python instead of using the Mac-provided version,
you will probably need to edit the CMakeCache Python links. Example
configuration for Python 2.7 is given below (only variables that need to
be modified are shown):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">program</span><span class="o">.</span>
<span class="n">PYTHON_EXECUTABLE</span><span class="p">:</span><span class="n">FILEPATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span>

<span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span><span class="o">.</span>
<span class="n">PYTHON_INCLUDE_DIR</span><span class="p">:</span><span class="n">PATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">Headers</span>

<span class="o">//</span><span class="n">Path</span> <span class="n">to</span> <span class="n">a</span> <span class="n">library</span><span class="o">.</span>
<span class="n">PYTHON_LIBRARY</span><span class="p">:</span><span class="n">FILEPATH</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">2.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libpython2</span><span class="o">.</span><span class="mf">7.</span><span class="n">dylib</span>
</pre></div>
</div>
</li>
<li><p class="first">If you are using Mavericks (OSX 10.9) and encounter errors relating to &lt;tr1/memory&gt;, you might also need to include
the following flag in your CMakeCache.txt:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CMAKE_CXX_FLAGS</span><span class="p">:</span><span class="n">STRING</span><span class="o">=-</span><span class="n">stdlib</span><span class="o">=</span><span class="n">libstdc</span><span class="o">++</span>
</pre></div>
</div>
</li>
<li><p class="first">Run make and install as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="o">-</span><span class="n">j2</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p class="first">With any luck, you should have openbabel with python bindings installed.
You can test your installation by trying to import openbabel from the
python command line. Please note that despite best efforts,
openbabel seems to install the python bindings into /usr/local/lib even
if your Python is not the standard Mac version. In that case,
you may need to add the following into your .bash_profile:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export PYTHONPATH=/usr/local/lib:$PYTHONPATH
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="enumlib-updated-mar-2016">
<h2>Enumlib (updated Mar 2016)<a class="headerlink" href="#enumlib-updated-mar-2016" title="Permalink to this headline">¶</a></h2>
<p>The author now has his own Github repo with the relevant instructions to
compile a newer version of enumlib. Follow the instructions given at the
<a class="reference external" href="https://github.com/msg-byu/enumlib">enumlib repo</a>.</p>
</div>
<div class="section" id="zeo">
<h2>Zeo++<a class="headerlink" href="#zeo" title="Permalink to this headline">¶</a></h2>
<p>If you use the defects analysis package, you will need to installZeo++/Voro++.
Here are the steps you need to follow (thanks to Bharat)</p>
<p>Download and install Voro++:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">Voro</span><span class="o">++</span>
<span class="n">mkdir</span> <span class="n">Voro</span><span class="o">++/</span><span class="n">voro</span>
<span class="n">cd</span> <span class="n">Voro</span><span class="o">++/</span><span class="n">voro</span>
<span class="n">svn</span> <span class="n">checkout</span> <span class="o">--</span><span class="n">username</span> <span class="n">anonsvn</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">code</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="n">voro</span><span class="o">/</span><span class="n">trunk</span>  <span class="c1"># password is &#39;anonsvn&#39;</span>
<span class="n">cd</span> <span class="n">trunk</span>
</pre></div>
</div>
<p>Add -fPIC to the CFLAGS variable in config.mk, and then:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
<p>Download and install Zeo++:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">Zeo</span><span class="o">++</span>
<span class="n">mkdir</span> <span class="n">Zeo</span><span class="o">++/</span><span class="n">zeo</span>
<span class="n">cd</span> <span class="n">Zeo</span><span class="o">++/</span><span class="n">zeo</span>
<span class="n">svn</span> <span class="n">checkout</span> <span class="o">--</span><span class="n">username</span> <span class="n">anonsvn</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">code</span><span class="o">.</span><span class="n">lbl</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="n">zeo</span><span class="o">/</span><span class="n">trunk</span>  <span class="c1"># password is &#39;anonsvn&#39;</span>
<span class="n">cd</span> <span class="n">trunk</span>
<span class="n">make</span> <span class="n">dylib</span>
</pre></div>
</div>
<p>Create python bindings with Cython:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cython</span>
<span class="n">cd</span> <span class="n">cython_wrapper</span>
<span class="n">python</span> <span class="n">setup_alt</span><span class="o">.</span><span class="n">py</span> <span class="n">develop</span>
</pre></div>
</div>
<p>To test that the installation worked, here is an example series of things you
can do using pymatgen:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">pymatgen.analysis.defects.point_defects</span> <span class="k">import</span> <span class="n">Interstitial</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">pymatgen.core.structure</span> <span class="k">import</span> <span class="n">Structure</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">structure</span> <span class="o">=</span> <span class="n">Structure</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;/path/to/file&#39;</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">radii</span><span class="p">,</span> <span class="n">valences</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">structure</span><span class="o">.</span><span class="n">composition</span><span class="o">.</span><span class="n">elements</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">radii</span><span class="p">[</span><span class="n">element</span><span class="o">.</span><span class="n">symbol</span><span class="p">]</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">atomic_radius</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">valence</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">group</span>  <span class="c1"># Just a first guess..</span>
   <span class="o">...</span><span class="p">:</span>     <span class="k">if</span> <span class="n">element</span><span class="o">.</span><span class="n">group</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">:</span>
   <span class="o">...</span><span class="p">:</span>         <span class="n">valence</span> <span class="o">-=</span> <span class="mi">10</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">valences</span><span class="p">[</span><span class="n">element</span><span class="o">.</span><span class="n">symbol</span><span class="p">]</span> <span class="o">=</span> <span class="n">valence</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">interstitial</span> <span class="o">=</span> <span class="n">Interstitial</span><span class="p">(</span><span class="n">structure</span><span class="p">,</span> <span class="n">radii</span><span class="o">=</span><span class="n">radii</span><span class="p">,</span> <span class="n">valences</span><span class="o">=</span><span class="n">valences</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">interstitial</span><span class="o">.</span><span class="n">_defect_sites</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Requirements</a><ul>
<li><a class="reference internal" href="#optional-dependencies">Optional dependencies</a></li>
<li><a class="reference internal" href="#optional-non-python-programs">Optional non-Python programs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-installation-instructions">Detailed installation instructions</a><ul>
<li><a class="reference internal" href="#mac-osx-tested-on-10-6-10-9">Mac OSX (tested on 10.6-10.9)</a></li>
<li><a class="reference internal" href="#windows-tested-on-win7-64-bit">Windows (tested on Win7 64-bit)</a></li>
<li><a class="reference internal" href="#linux">Linux</a><ul>
<li><a class="reference internal" href="#using-pymatgen-on-public-hpc-resources">Using pymatgen on public HPC resources</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#potcar-setup">POTCAR Setup</a></li>
<li><a class="reference internal" href="#setup-for-developers-using-github">Setup for Developers (using GitHub)</a></li>
<li><a class="reference internal" href="#installation-tips-for-optional-libraries">Installation tips for optional libraries</a><ul>
<li><a class="reference internal" href="#vtk-tested-on-v5-10-0-6-1-0">VTK (tested on v5.10.0 - 6.1.0)</a><ul>
<li><a class="reference internal" href="#mac-os-x-10-7-10-9">Mac OS X 10.7 - 10.9</a></li>
</ul>
</li>
<li><a class="reference internal" href="#openbabel-tested-on-v2-3-2">OpenBabel (tested on v2.3.2)</a><ul>
<li><a class="reference internal" href="#id1">Mac OS X 10.7 - 10.9</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enumlib-updated-mar-2016">Enumlib (updated Mar 2016)</a></li>
<li><a class="reference internal" href="#zeo">Zeo++</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usage.html"
                        title="next chapter">Overview</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen 3.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2011, Pymatgen Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>